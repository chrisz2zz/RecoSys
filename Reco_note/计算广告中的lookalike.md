#### 定义

- **Lookalike，即相似人群扩展，是基于种子用户，通过一定的算法评估模型，找到更多拥有潜在关联性的相似人群的技术**。值得注意是，**lookalike不是某一种特定的算法，而是一类方法的统称**，这类方法综合运用多种技术，比如协同过滤、node2vec等，最终达到用户拓展目的。

- 简单场景：
- - 广告主需要对100w人投放，但是，从选取的基础数据包中，只有30w，那么如何满足100w的投放需求，这时，就需要通过lookalike的方式进行扩充，既要保证人群数量，又要确保人群的相似；如果只是简单的从公共池中选取70w，完成100w的匹配，很有可能出现无效用户。例如：高级消费品，尽可能的投放给中高级消费，且具有该品类偏好的人群。

#### 如何lookalike

- **显式定位，广告主根据标签进行人群选择**
- - 这种方式，最为简单，高效。广告主通过用户画像标签，筛选性别，年龄，品类偏好等。可以直接快速达到人群包提取目的；但是，这种方法，又具有一定局限性，未必男性就不关心女性用品，也未必食品偏好的人群，就不关心护肤用品。标签的产出，本身基于用户行为，但单纯标签筛选，并不能把潜在相关用户提取出来
- **隐式定位，通过机器学习的方法，对种子用户进行建模**
- - 以30w人群，扩展100w为例。我们需要将30w用户的共有**特征提取**出来，内容包含性别，学历，年龄，职业，常住地，购买力，RFM分值，最近浏览加购信息等。该人群特征提取完成之后，成为种子包，标记为**正样本**。
  - 接下来，我们需要有一个**基础用户包**，用于70w的人群扩展，可以是全量数据，可以是近三个月，近一个月的活跃用户，也可以是品类偏好用户，数据内容取决于具体业务。数据规模，取决于扩展人群数量。需要扩展70w，基础包数量，可以是300w，500w，或者更多。当然了，不是越多越好，数量越多，意味着后期模型转换耗时会更长；
  - 假设基础包用户500w，我们需要从500w中随机抽取30w用户，标记为**负样本；**接下来，就是一串的特征处理，StringIndexer，VectorAssembler，OneHotEncoder，QuantileDiscretizer。总是，就是**将离散型字符变量整数化，离散型整数变量编码，以减少不同类别之间的距离差，把连续性变量进行分箱，调整为离散型变量，以减少距离差**；
  - 特征处理完成后，进行**模型训练**，这里的分类算法，可以是LR，SVM或是其它，不同厂的做法都不相同。效果好就行；模型训练完成后，重要环节，需要对500w的基础包进行transform，模型会对500w数据中的每条数据进行分类，并预测概率值。从500w数据中，抽取正样本，并按照概率从高到低排序，取出top 70w即可；
  - 最后，将30w人群与70w人群进行合并，标记100w的**扩展人群包**，用于线上投放。